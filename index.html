<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ê°„í˜¸, ì¸ê°„ì„ ë„˜ì–´ í™˜ê²½ê¹Œì§€ â€” ì˜ë£Œíê¸°ë¬¼ AI ë¶„ë¥˜ ì²´í—˜</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
<style>
  :root{
    --mint: #0a806d;
    --mint-soft: #aeead6;
    --bg: #ffffff;
    --muted: #6b6b6b;
    --accent: #2edda9;
    --danger: #e05b5b;
    --card-shadow: 0 8px 30px rgba(10,128,109,0.06);
    --radius: 12px;
    --maxw: 1100px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:'Noto Sans KR',system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background: linear-gradient(180deg, #f7fffb 0%, #ffffff 100%);
    color: #053532;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.5;
    -webkit-tap-highlight-color: transparent;
  }

  /* Container */
  .wrap{max-width:var(--maxw);margin:24px auto;padding:0 18px}

  /* Header / Hero */
  header.site-header{
    background:var(--mint);
    color:#fff;
    padding:28px 18px;
    border-radius:16px;
    text-align:center;
    box-shadow:0 6px 20px rgba(10,128,109,0.12);
    position:relative;
    overflow:hidden;
  }
  /* subtle wave graphic */
  header.site-header::after{
    content:"";
    position:absolute;
    right:-120px; top:-40px;
    width:420px;height:420px;
    background: radial-gradient(circle at 40% 40%, rgba(255,255,255,0.08), transparent 25%),
                linear-gradient(180deg, rgba(255,255,255,0.03), transparent 60%);
    transform: rotate(18deg);
    opacity:0.9;
  }
  header h1{margin:0;font-weight:900;font-size:20px;letter-spacing:-0.2px}
  header p{margin:8px 0 0;font-weight:400;opacity:0.95}

  /* main hero card */
  .hero{
    display:flex;gap:18px;align-items:center;background:#fff;border-radius:var(--radius);padding:20px;margin-top:18px;box-shadow:var(--card-shadow);
  }
  .hero-left{flex:1}
  .hero-left h2{margin:0;color:var(--mint);font-size:20px;font-weight:800}
  .hero-left p.lead{margin:10px 0 0;color:var(--muted)}
  .hero-right{
    width:140px;height:120px;border-radius:12px;background:linear-gradient(180deg,var(--mint-soft),#e6fff7);display:flex;align-items:center;justify-content:center;font-size:36px;
    box-shadow:inset 0 -6px 14px rgba(10,128,109,0.02);
  }

  /* stats */
  .stats{display:flex;gap:12px;margin-top:14px}
  .stat{flex:1;background:#fbfffd;padding:12px;border-radius:10px;border:1px solid #e7f8f0;text-align:center}
  .stat .num{font-size:20px;color:var(--mint);font-weight:800}
  .stat .label{font-size:12px;color:var(--muted);margin-top:6px}

  /* card sections */
  section.card{margin-top:18px;background:#fff;padding:18px;border-radius:14px;box-shadow:var(--card-shadow)}
  section.card h3{margin:0 0 8px 0;color:var(--mint);font-size:17px}
  section.card p{margin:0;color:var(--muted);line-height:1.6}

  /* flow */
  .flow{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:12px}
  .flow .step{flex:1;min-width:140px;background:#f6fffb;border-radius:10px;padding:12px;border:1px solid #eaf9f2;text-align:center}
  .flow small{display:block;color:#057a62;margin-top:8px;font-size:12px}

  /* interactive area */
  .interaction{display:flex;gap:18px;align-items:flex-start;margin-top:12px;flex-wrap:wrap}
  .panel{background:#fbfffd;padding:12px;border-radius:12px;border:1px dashed #e6f6ee;flex:1;min-width:240px}
  .items{display:flex;flex-wrap:wrap;gap:10px}
  .card-item{width:82px;height:82px;border-radius:10px;background:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:28px;cursor:grab;border:1px solid #eef9f4;box-shadow:0 4px 10px rgba(6,39,36,0.03)}
  .card-item .label{font-size:12px;color:var(--muted);margin-top:6px}
  .dropzone{min-height:140px;border-radius:10px;padding:12px;background:linear-gradient(180deg,#ffffff,#f3fffb);display:flex;flex-direction:column;align-items:center;justify-content:flex-start;gap:8px;border:2px dashed #dff5ec}
  .dropzone .title{font-weight:800;color:var(--mint)}
  .dropzone .hint{font-size:12px;color:var(--muted)}
  .dropzone .counter{font-weight:700;color:var(--mint);margin-top:8px}

  .controls{display:flex;gap:10px;align-items:center;margin-top:12px;flex-wrap:wrap}
  button.btn{background:var(--mint);color:#fff;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:800}
  button.ghost{background:#fff;border:1px solid #cfeee3;color:var(--mint)}
  .result{margin-top:12px;padding:10px;border-radius:8px;background:#f6fffa;border:1px solid #dff5ec;color:#0b3a36;display:none}

  /* CTA */
  .cta{display:flex;gap:12px;align-items:center;justify-content:space-between;padding:16px;border-radius:12px;margin-top:18px;background:linear-gradient(90deg,#f1fffb,#ffffff);border:1px solid #eaf9f2}
  .cta .text{flex:1}
  .cta h4{margin:0;color:var(--mint)}
  .cta p{margin:8px 0 0;color:var(--muted)}
  .cta button{min-width:180px}

  /* modal */
  .modal{position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background:rgba(5,10,8,0.45);z-index:50}
  .modal .dialog{background:#fff;padding:18px;border-radius:12px;max-width:520px;width:92%}
  .close{background:#eee;border:none;padding:8px 10px;border-radius:8px;cursor:pointer}

  /* small screens */
  @media (max-width:820px){
    .hero{flex-direction:column}
    .stats{flex-direction:column}
    .interaction{flex-direction:column}
    .cta{flex-direction:column;align-items:flex-start}
  }
  /* accessibility focus */
  .card-item:focus{outline:3px solid rgba(46,221,169,0.16)}
  button:focus{outline:3px solid rgba(10,128,109,0.16)}
</style>
</head>
<body>
  <div class="wrap">

    <!-- HEADER -->
    <header class="site-header" role="banner" aria-label="ë©”ì¸ í—¤ë”">
      <h1>ê°„í˜¸, ì¸ê°„ì„ ë„˜ì–´ í™˜ê²½ê¹Œì§€</h1>
      <p>ê±´ê°•í•œ ì§€êµ¬ë¥¼ ìœ„í•´ ê°„í˜¸í•™ì´ ì›€ì§ì…ë‹ˆë‹¤</p>
    </header>

    <!-- HERO -->
    <div class="hero" role="region" aria-label="í”„ë¡œì íŠ¸ ì†Œê°œ">
      <div class="hero-left">
        <h2>ì˜ë£Œíê¸°ë¬¼, ì•ˆì „í•˜ê²Œ ë¶„ë¦¬í•˜ê³  í™˜ê²½ìœ¼ë¡œ ë˜ëŒë¦¬ë‹¤</h2>
        <p class="lead">ë§ˆìŠ¤í¬, ì£¼ì‚¬ê¸°, IVë°± ë“± ë³‘ì›ì—ì„œ ë°œìƒí•˜ëŠ” ì¼íšŒìš© ì˜ë£Œíê¸°ë¬¼ì€ ê°ì—¼ ìœ„í—˜ ë•Œë¬¸ì— ì¼ë°˜ ì“°ë ˆê¸°ì™€ ë¶„ë¦¬ë˜ì–´ ì²˜ë¦¬ë©ë‹ˆë‹¤. ë³¸ ì‹œìŠ¤í…œì€ AIë¥¼ í™œìš©í•´ ì•ˆì „ ê¸°ì¤€ì„ ì§€í‚¤ë©´ì„œ ì¬í™œìš© ê°€ëŠ¥í•œ ìì›ì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.</p>

        <div class="stats" aria-hidden="false">
          <div class="stat" aria-label="ì˜ˆìƒ ì¬í™œìš© ê°€ëŠ¥ ë¹„ìœ¨">
            <div class="num" id="stat1">0</div>
            <div class="label">ì˜ˆìƒ ì¬í™œìš© ê°€ëŠ¥ ë¹„ìœ¨(%)</div>
          </div>
          <div class="stat" aria-label="ê°ì—¼ì„± íê¸°ë¬¼ ê°ì†Œ">
            <div class="num" id="stat2">0</div>
            <div class="label">ê°ì—¼ì„± íê¸°ë¬¼ ê°ì†Œ(ton/ë…„)</div>
          </div>
          <div class="stat" aria-label="ì¶”ì • ì†Œê°ëŸ‰ ê°ì†Œ">
            <div class="num" id="stat3">0</div>
            <div class="label">ì¶”ì • ì†Œê°ëŸ‰ ê°ì†Œ(%)</div>
          </div>
        </div>
      </div>

      <div class="hero-right" aria-hidden="true">ğŸ©ºğŸŒ¿</div>
    </div>

    <!-- PROBLEM -->
    <section class="card" id="problem" role="article" aria-labelledby="problem-title">
      <h3 id="problem-title">ì˜ë£Œíê¸°ë¬¼, ì§€êµ¬ì˜ ë˜ ë‹¤ë¥¸ í™˜ì</h3>
      <p>
        ë³‘ì›ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì¼íšŒìš©í’ˆì´ ëŠ˜ì–´ë‚˜ê³  ìˆìŠµë‹ˆë‹¤. ë§ˆìŠ¤í¬, ì£¼ì‚¬ê¸°, ìˆ˜ì•¡ ì„¸íŠ¸, ì¥ê°‘ ë“±ì€ ëŒ€ë¶€ë¶„ í”Œë¼ìŠ¤í‹±ì´ë©° ê°ì—¼ ìœ„í—˜ ë•Œë¬¸ì— ì‰½ê²Œ ì¬í™œìš©ë˜ì§€ ëª»í•©ë‹ˆë‹¤.
        ì´ë“¤ì€ ì†Œê°ë˜ì–´ ëŒ€ê¸° ì˜¤ì—¼ì„ ì¼ìœ¼í‚¤ê³ , ë§¤ë¦½ ì‹œ í† ì–‘ê³¼ ìˆ˜ì§ˆ ì˜¤ì—¼ì˜ ì›ì¸ì´ ë©ë‹ˆë‹¤.
      </p>

      <!-- decorative flow / image suggestion -->
      <div style="margin-top:14px;display:flex;gap:12px;align-items:center;flex-wrap:wrap">
        <div style="flex:1;min-width:220px">
          <div style="background:linear-gradient(180deg,#fff,#f7fffb);padding:10px;border-radius:10px;border:1px solid #eaf9f2">
            <strong>ë””ìì¸ ìš”ì†Œ</strong>
            <ul style="margin:8px 0 0 18px;color:var(--muted)">
              <li>ì˜ë£Œíê¸°ë¬¼ ì¦ê°€ ê·¸ë˜í”„ ì• ë‹ˆë©”ì´ì…˜</li>
              <li>í™˜ì ì¹¨ëŒ€ â†’ ì§€êµ¬ ì¼ëŸ¬ìŠ¤íŠ¸ ì—°ê²°(ì§€êµ¬ê°€ ë¶•ëŒ€ë¥¼ ê°ê³  ìˆëŠ” ì»¨ì…‰)</li>
            </ul>
          </div>
        </div>
        <div style="width:220px;min-width:160px;text-align:center;background:#fff;border-radius:10px;padding:8px;border:1px solid #e7f8f0">
          <!-- placeholder tiny illustration -->
          <div style="font-size:28px">ğŸ›ï¸â¡ï¸ğŸŒ</div>
          <div style="font-size:12px;color:var(--muted);margin-top:6px">ë³‘ì› â†’ ì§€êµ¬ ì—°ê²° ì´ë¯¸ì§€</div>
        </div>
      </div>
    </section>

    <!-- SOLUTION -->
    <section class="card" id="solution" role="article" aria-labelledby="solution-title">
      <h3 id="solution-title">AI ê¸°ë°˜ ì˜ë£Œíê¸°ë¬¼ ë¶„ë¥˜ ì‹œìŠ¤í…œ</h3>
      <p>
        AIê°€ íê¸°ë¬¼ì˜ ì˜¤ì—¼ ì—¬ë¶€ë¥¼ ìë™ìœ¼ë¡œ íŒë³„í•˜ì—¬ ê°ì—¼ì„± íê¸°ë¬¼ê³¼ ì¬í™œìš© ìì›ì„ ì¦‰ì‹œ ë¶„ë¥˜í•©ë‹ˆë‹¤. ì•ˆì „ì€ ìœ ì§€í•˜ê³ , í™˜ê²½ ë¶€ë‹´ì€ ì¤„ì…ë‹ˆë‹¤.
      </p>

      <div class="flow" aria-hidden="false">
        <div class="step">1. ì‚¬ìš© í›„ ë¶„ë¥˜í•¨ì— ë°°ì¶œ<small>ê°„í˜¸ì‚¬ê°€ ê·œê²©ì— ë§ê²Œ ë°°ì¶œ</small></div>
        <div class="step">2. AI ì´ë¯¸ì§€ ìŠ¤ìº”<small>ì˜¤ì—¼ë„ ë° ë¬¼ì§ˆ íŒë³„</small></div>
        <div class="step">3. ìë™ ë¶„ë¥˜ ì¥ì¹˜ ì‘ë™<small>ê°ì—¼ì„± / ì¬í™œìš©</small></div>
        <div class="step">4. ì•ˆì „ ìˆ˜ê±° ë° ìì› íšŒìˆ˜<small>í™˜ê²½ì  ì²˜ë¦¬</small></div>
      </div>

      <div style="margin-top:12px;">
        <strong>í•µì‹¬ í¬ì¸íŠ¸:</strong>
        <ul style="margin:8px 0 0 18px;color:var(--muted)">
          <li>ê°„í˜¸í•™ì˜ ê°ì—¼ê´€ë¦¬ ì§€ì‹ì„ AI ë°ì´í„°ë¡œ í™œìš©í•˜ì—¬ ì •í™•ë„ í–¥ìƒ</li>
          <li>ë¶„ë¦¬ìˆ˜ê±° ë‹¨ê³„ì—ì„œ ê°ì—¼ ìœ„í—˜ ê°ì†Œ</li>
          <li>ì¬í™œìš©ë¥  ìƒìŠ¹, ì†Œê°ëŸ‰ ê°ì†Œ</li>
        </ul>
      </div>

      <div style="margin-top:12px;display:flex;gap:12px;flex-wrap:wrap">
        <div style="flex:1;min-width:220px">
          <div style="background:#fff;padding:10px;border-radius:10px;border:1px solid #eaf9f2">
            <strong>ë””ìì¸ ìš”ì†Œ</strong>
            <div style="color:var(--muted);margin-top:8px">íë¦„ë„(ì‚¬ìš© â†’ AI íŒë³„ â†’ ë¶„ë¦¬ â†’ ì¬í™œìš©), ì˜ë£Œìš© ì¹´ë©”ë¼ + AI ì•„ì´ì½˜ ì¡°í•©</div>
          </div>
        </div>
      </div>
    </section>

    <!-- INTERACTIVE -->
    <section class="card" id="interactive" role="region" aria-labelledby="interactive-title">
      <h3 id="interactive-title">ë‚˜ë„ í™˜ê²½ ê°„í˜¸ ì‹¤ì²œ! ì§ì ‘ ë¶„ë¥˜í•´ë³´ì„¸ìš” ğŸ‘‡</h3>
      <p>íê¸°ë¬¼ ì•„ì´ì½˜ì„ ë“œë˜ê·¸í•˜ì—¬ 'ê°ì—¼ì„± íê¸°ë¬¼' ë˜ëŠ” 'ì¬í™œìš© ê°€ëŠ¥'ì— ë„£ì–´ë³´ì„¸ìš”. ë˜ëŠ” ì•„ë˜ì˜ 'AI íŒë‹¨ ë³´ê¸°' ë²„íŠ¼ìœ¼ë¡œ ìë™ ë¶„ë¥˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

      <div class="interaction" aria-live="polite">
        <div class="panel" aria-label="ë¶„ë¥˜ ê°€ëŠ¥í•œ ì•„ì´í…œ">
          <div style="font-weight:800;margin-bottom:8px">ë¶„ë¥˜í•  ì•„ì´í…œ</div>
          <div class="items" id="items" role="list">
            <!-- each item has data-type which represents correct label for simulation -->
            <div class="card-item" role="listitem" tabindex="0" draggable="true" data-type="infectious" data-id="syringe" aria-grabbed="false">
              ğŸ’‰<div class="label">ì£¼ì‚¬ê¸°</div>
            </div>
            <div class="card-item" role="listitem" tabindex="0" draggable="true" data-type="infectious" data-id="ivbag" aria-grabbed="false">
              ğŸ§´<div class="label">ìˆ˜ì•¡ë°±</div>
            </div>
            <div class="card-item" role="listitem" tabindex="0" draggable="true" data-type="infectious" data-id="mask" aria-grabbed="false">
              ğŸ˜·<div class="label">ë§ˆìŠ¤í¬</div>
            </div>
            <div class="card-item" role="listitem" tabindex="0" draggable="true" data-type="recyclable" data-id="plastictray" aria-grabbed="false">
              ğŸ½ï¸<div class="label">í”Œë¼ìŠ¤í‹± íŠ¸ë ˆì´</div>
            </div>
            <div class="card-item" role="listitem" tabindex="0" draggable="true" data-type="recyclable" data-id="metalclip" aria-grabbed="false">
              ğŸ“<div class="label">ê¸ˆì† í´ë¦½</div>
            </div>
            <div class="card-item" role="listitem" tabindex="0" draggable="true" data-type="infectious" data-id="glove" aria-grabbed="false">
              ğŸ§¤<div class="label">ì¥ê°‘</div>
            </div>
          </div>
        </div>

        <div class="panel" aria-label="ë¶„ë¥˜ ì˜ì—­">
          <div style="display:flex;gap:12px;flex-wrap:wrap">
            <div class="dropzone" id="bin-infectious" data-accept="infectious" aria-dropeffect="move" aria-label="ê°ì—¼ì„± íê¸°ë¬¼">
              <div class="title">ê°ì—¼ì„± íê¸°ë¬¼</div>
              <div class="hint">ë°€í ìˆ˜ê±°í•¨ìœ¼ë¡œ ì´ë™</div>
              <div class="counter" id="count-infectious">0</div>
            </div>

            <div class="dropzone" id="bin-recyclable" data-accept="recyclable" aria-dropeffect="move" aria-label="ì¬í™œìš© ê°€ëŠ¥">
              <div class="title">ì¬í™œìš© ê°€ëŠ¥</div>
              <div class="hint">ìì› íšŒìˆ˜ ë£¨íŠ¸ë¡œ</div>
              <div class="counter" id="count-recyclable">0</div>
            </div>
          </div>

          <div class="controls" style="margin-top:12px">
            <button class="btn" id="auto-classify" aria-controls="result">AI íŒë‹¨ ë³´ê¸°</button>
            <button class="ghost" id="reset">ì´ˆê¸°í™”</button>
            <div style="flex:1"></div>
            <div style="font-size:13px;color:var(--muted)">ê°„í˜¸ì‚¬ì˜ ë¶„ë¥˜ ì§€ì‹ì´ AIì˜ í•™ìŠµ ë°ì´í„°ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.</div>
          </div>

          <div class="result" id="result" role="status" aria-live="polite"></div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <div class="cta" role="region" aria-label="í–‰ë™ ìœ ë„">
      <div class="text">
        <h4>ì‘ì€ ì‹¤ì²œì´ ì§€êµ¬ë¥¼ ì§€í‚µë‹ˆë‹¤.</h4>
        <p>í™˜ê²½ì„ ì¹˜ë£Œí•˜ëŠ” ê°„í˜¸í•™, ì§€ê¸ˆ ì‹œì‘ë©ë‹ˆë‹¤. ë” ë§ì€ ì‚¬ëŒê³¼ í•¨ê»˜í• ìˆ˜ë¡ ì˜í–¥ë ¥ì€ ì»¤ì§‘ë‹ˆë‹¤.</p>
      </div>
      <div style="display:flex;gap:10px;align-items:center">
        <button class="btn" id="pledge">í™˜ê²½ ê°„í˜¸ ì‹¤ì²œ ì„œì•½í•˜ê¸°</button>
        <button class="ghost" id="donate">í›„ì› ì°¸ì—¬í•˜ê¸°</button>
      </div>
    </div>

    <footer style="text-align:center;padding:18px 6px;color:var(--muted);font-size:13px;margin-top:18px">
      Â© 2025 ê°„í˜¸Â·í™˜ê²½ AI í”„ë¡œì íŠ¸ â€” ë³‘ì› í˜„ì¥ì˜ ì•ˆì „ê³¼ ìì›ìˆœí™˜ì„ ì—°ê²°í•©ë‹ˆë‹¤.
    </footer>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="dialog" role="document">
      <h4 style="margin:0 0 8px 0;color:var(--mint)">AI ë¶„ë¥˜ ê²°ê³¼</h4>
      <div id="modal-body" style="color:#053532"></div>
      <div style="text-align:right;margin-top:12px">
        <button class="close" id="close-modal">ë‹«ê¸°</button>
      </div>
    </div>
  </div>

<script>
/* ---------------------------
   Helper: count-up animation
   --------------------------- */
function animateValue(id, start, end, duration) {
  const obj = document.getElementById(id);
  let startTimestamp = null;
  const step = (timestamp) => {
    if (!startTimestamp) startTimestamp = timestamp;
    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
    obj.textContent = Math.floor(progress * (end - start) + start);
    if (progress < 1) {
      window.requestAnimationFrame(step);
    }
  };
  window.requestAnimationFrame(step);
}

/* initialize stats */
animateValue('stat1', 0, 46, 1100);
animateValue('stat2', 0, 1200, 1100);
animateValue('stat3', 0, 28, 1100);

/* ---------------------------
   Drag & Drop (desktop + touch)
   - items: .card-item (draggable)
   - bins: .dropzone (drop target)
   --------------------------- */
const itemsContainer = document.getElementById('items');
let dragged = null;

/* desktop drag events */
document.querySelectorAll('.card-item').forEach(el => {
  el.addEventListener('dragstart', (e) => {
    dragged = el;
    e.dataTransfer.setData('text/plain', el.dataset.id || '');
    el.setAttribute('aria-grabbed','true');
    setTimeout(()=> el.style.visibility = 'hidden', 50);
  });
  el.addEventListener('dragend', (e) => {
    if(el) {
      el.style.visibility = '';
      el.setAttribute('aria-grabbed','false');
      dragged = null;
    }
  });

  /* keyboard accessibility: Enter to "pick up" and Space to drop into first bin as convenience */
  el.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter'){
      el.classList.add('keyboard-picked');
      el.style.transform='scale(0.98)';
      e.preventDefault();
    } else if(e.key === ' '){
      // drop into infectious as default
      const bin = document.getElementById('bin-infectious');
      if(bin) simulateDrop(el, bin);
      e.preventDefault();
    }
  });
});

/* drop events */
document.querySelectorAll('.dropzone').forEach(bin => {
  bin.addEventListener('dragover', e => {
    e.preventDefault();
    bin.style.borderColor = 'var(--mint)';
  });
  bin.addEventListener('dragleave', e => {
    bin.style.borderColor = '#dff5ec';
  });
  bin.addEventListener('drop', e => {
    e.preventDefault();
    bin.style.borderColor = '#dff5ec';
    if(!dragged) return;
    simulateDrop(dragged, bin);
  });
});

/* simulateDrop moves element to bin and updates counts */
function simulateDrop(el, bin){
  // clone to show inside bin, remove original from items
  const clone = el.cloneNode(true);
  clone.setAttribute('draggable','false');
  clone.style.cursor='default';
  clone.style.marginTop = '8px';
  clone.style.opacity = '0.95';
  bin.appendChild(clone);

  // update counters
  const type = el.dataset.type;
  const cntId = type === 'infectious' ? 'count-infectious' : 'count-recyclable';
  const elCnt = document.getElementById(cntId);
  elCnt.textContent = String(Number(elCnt.textContent || 0) + 1);

  // remove original
  if(el.parentNode) el.parentNode.removeChild(el);
}

/* Touch support (simple): tap item then tap bin to drop */
let touchPicked = null;
itemsContainer.addEventListener('click', (e)=>{
  const card = e.target.closest('.card-item');
  if(card){
    // toggle picked visual
    if(touchPicked === card){
      card.style.outline = '';
      touchPicked = null;
    } else {
      if(touchPicked) touchPicked.style.outline = '';
      touchPicked = card;
      card.style.outline = '3px solid rgba(10,128,109,0.15)';
    }
  }
});
document.querySelectorAll('.dropzone').forEach(bin=>{
  bin.addEventListener('click', ()=> {
    if(touchPicked){
      simulateDrop(touchPicked, bin);
      touchPicked = null;
    }
  });
});

/* ---------------------------
   AI Auto-classify simulation
   - remaining items are auto-classified by "AI"
   - shows modal with summary
   --------------------------- */
const autoBtn = document.getElementById('auto-classify');
const resultBox = document.getElementById('result');
const modal = document.getElementById('modal');
const modalBody = document.getElementById('modal-body');
const closeModalBtn = document.getElementById('close-modal');

autoBtn.addEventListener('click', ()=>{
  // collect remaining items in itemsContainer
  const remaining = Array.from(itemsContainer.querySelectorAll('.card-item'));
  const summary = {infectious:0, recyclable:0, uncertain:0};
  remaining.forEach(item => {
    const correct = item.dataset.type || 'uncertain';
    if(correct === 'infectious' || correct === 'recyclable'){
      // "AI" moves them correctly with high confidence (simulate)
      summary[correct]++;
      const bin = document.querySelector(`[data-accept="${correct}"]`);
      if(bin) {
        const copy = item.cloneNode(true);
        copy.setAttribute('draggable','false');
        copy.style.marginTop = '8px';
        bin.appendChild(copy);
      }
    } else {
      summary.uncertain++;
    }
    // remove from list
    if(item.parentNode) item.parentNode.removeChild(item);
  });

  // update counters
  const infCnt = Number(document.getElementById('count-infectious').textContent || 0) + summary.infectious;
  const recCnt = Number(document.getElementById('count-recyclable').textContent || 0) + summary.recyclable;
  document.getElementById('count-infectious').textContent = String(infCnt);
  document.getElementById('count-recyclable').textContent = String(recCnt);

  // build message
  const totalMoved = summary.infectious + summary.recyclable + summary.uncertain;
  let msg = `<strong>AIê°€ ë¶„ë¥˜í•œ í•­ëª©: ${totalMoved}ê°œ</strong><br>`;
  msg += `ê°ì—¼ì„±: ${summary.infectious}ê°œ / ì¬í™œìš© ê°€ëŠ¥: ${summary.recyclable}ê°œ`;
  if(summary.uncertain > 0) msg += ` / ë¶ˆí™•ì‹¤: ${summary.uncertain}ê°œ (ê°„í˜¸ì‚¬ ê²€í†  í•„ìš”)`;

  // show in both inline result and modal
  resultBox.innerHTML = msg;
  resultBox.style.display = 'block';
  modalBody.innerHTML = msg + '<p style="color:var(--muted);margin-top:8px;font-size:13px">â€» AIëŠ” ì‹œë®¬ë ˆì´ì…˜ì…ë‹ˆë‹¤. ì‹¤ì œ ì˜ë£Œ ì ìš© ì‹œ ì¶”í›„ ê²€ì¦ í•„ìš”.</p>';
  showModal();
});

/* Reset */
document.getElementById('reset').addEventListener('click', ()=>{
  location.reload(); // simple reset
});

/* Modal controls */
function showModal(){ modal.style.display = 'flex'; modal.setAttribute('aria-hidden','false'); }
function hideModal(){ modal.style.display = 'none'; modal.setAttribute('aria-hidden','true'); }
closeModalBtn.addEventListener('click', hideModal);
modal.addEventListener('click', (e)=> { if(e.target === modal) hideModal(); });

/* Pledge + Donate buttons -> show quick dialogs (placeholders) */
document.getElementById('pledge').addEventListener('click', ()=>{
  modalBody.innerHTML = '<strong>í™˜ê²½ ê°„í˜¸ ì‹¤ì²œ ì„œì•½</strong><p style="margin-top:8px;color:var(--muted)">ë‹¹ì‹ ì€ ì˜ë£Œíê¸°ë¬¼ ë¶„ë¦¬ ì‹¤ì²œì„ ì•½ì†í•©ë‹ˆë‹¤. (ì˜ˆì‹œ ì„œì•½ì„œ)</p>';
  showModal();
});
document.getElementById('donate').addEventListener('click', ()=>{
  modalBody.innerHTML = '<strong>í›„ì› ì•ˆë‚´</strong><p style="margin-top:8px;color:var(--muted)">í›„ì› ë°©ë²•: ì¹´ì¹´ì˜¤í˜ì´/í† ìŠ¤/ê³„ì¢Œì´ì²´ ë“±. (í…ŒìŠ¤íŠ¸ í˜ì´ì§€ì´ë¯€ë¡œ ì‹¤ì œ ê²°ì œëŠ” ì—°ê²°ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.)</p>';
  showModal();
});

/* Accessibility note: ensure keyboard navigation for dynamic elements */
document.addEventListener('keydown', (e) => {
  if(e.key === 'Escape') hideModal();
});

/* End of script */
</script>
</body>
</html>
